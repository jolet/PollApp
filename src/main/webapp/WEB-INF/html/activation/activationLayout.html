<div>
<h4>Survey administration</h4>
</div>

<hr>
<table class="table table-bordered table-striped table-hover">
	<thead>
		<tr>
			<th>Activation</th>
			<th>Survey</th>
		</tr>
	</thead>
	<tbody>
		<tr ng-repeat="survey in surveyList track by survey.id">
<!-- LEFT COLUMN -->		
			<td style = "min-width:235px !important">
				<p style="margin-bottom:-10px;" ng-show="survey.active != null">DATE FROM / TO </p>
				<br>
				<button ng-show="survey.active == null" class="btn  btn-danger" ng-click="remove($index)">History</button>
				<button ng-show="survey.active == null" class="btn  btn-primary" ng-click="setActive($index,false, data)">Activate</button>
				
				<!-- DATE FROM  -->
				<div class="dropdown pull-left" style="width:80px;" ng-show="survey.active != null">
				  <a class="dropdown-toggle" id="dropdownFrom{{$index}}" role="button" data-toggle="dropdown" data-target="#" href="">
				    <div class="input-group">
				    	<input type="text" class="form-control" data-ng-model="data.dateDropDownInputFrom" placeholder="Select start datetime">
				    	<span class="input-group-addon"><i class="glyphicon glyphicon-calendar"></i></span>
				    </div>
				  </a>
				  <ul class="dropdown-menu" role="menu" aria-labelledby="dLabel">
				    <datetimepicker data-ng-model="data.dateDropDownInputFrom" data-datetimepicker-config="{ dropdownSelector: '#dropdownFrom{{$index}}' }"/>
				  </ul>
				</div>
				
				<!-- DATE TO -->
				<div class="dropdown pull-left" style="width:80px;" ng-show="survey.active != null">
				  <a class="dropdown-toggle" id="dropdownTo{{$index}}" role="button" data-toggle="dropdown" data-target="#" href="">
				    <div class="input-group">
				    	<input type="text" class="form-control" data-ng-model="data.dateDropDownInputTo" placeholder="Select start datetime">
				    	<span class="input-group-addon"><i class="glyphicon glyphicon-calendar"></i></span>
				    </div>
				  </a>
				  <ul class="dropdown-menu" role="menu" aria-labelledby="dLabel">
				    <datetimepicker data-ng-model="data.dateDropDownInputTo" data-datetimepicker-config="{ dropdownSelector: '#dropdownTo{{$index}}' }"/>
				  </ul>
				</div>

				<button ng-show="!survey.active && survey.active != null" class="btn  btn-success " ng-click="setActive($index,!survey.active, data)">Update</button>
				<button ng-show="survey.active && survey.active != null" class="btn  btn-warning " ng-click="setActive($index,null, data)">Deactivate</button>
<!-- 				<p ng-show="data.dateDropDownInputFrom">Date from: {{ data.dateDropDownInputFrom | date:'yyyy-MM-dd HH:mm' }}</p>  -->
<!-- 				<p ng-show="data.dateDropDownInputTo">Date to: {{ data.dateDropDownInputTo | date:'yyyy-MM-dd HH:mm' }}</p>  -->
				<p ng-show="survey.active != null && data.dateDropDownInputFrom">Date from: {{ data.dateDropDownInputFrom | date:'yyyy-MM-dd HH:mm' }}</p> 
				<p ng-show="survey.active != null && data.dateDropDownInputTo">Date to: {{ data.dateDropDownInputTo | date:'yyyy-MM-dd HH:mm' }}</p> 
			</td>
<!-- RIGHT COLUMN -->
			<td style = "min-width:235px !important">
				<h3 ng-click="hint=!hint">{{survey.question}}</h3>
				<h5>{{survey.classGroup.name}} {{survey.classGroup.academicYear}}</h5>
				<br/>
				<textarea ng-show="hint || survey.hint" ng-model="survey.hint" placeholder="Hint" class="form-control"></textarea>
<!-- 				<textarea ng-show="hint" ng-model="survey.hint" placeholder="Hint" class="form-control"></textarea> -->
			</td>

		</tr>
	</tbody>
</table>

<div class = "growlToast" growl limit-messages="5"></div>
